# Diagnostics

| id | finding | impact | evidence | status | fix_id | plan_id | adr_id | research_doc | changeset_path |
|---|---|---|---|---|---|---|---|---|---|
| F001 | Unpinned runtime & dependencies; Docker uses python:3.11-slim; legacy requirements.txt vs. modern requirements.in/lock.txt approach (supply-chain risk). | Security & Reproducibility risk; non-deterministic builds. | ops/Dockerfile, requirements.txt, requirements-dev.txt, requirements.in, requirements.lock.txt | open | P001 | ADR-001 | modernization/research/F001.md | modernization/changes/001-runtime-deps |  |
| F002 | Legacy agents perform side effects directly (email/PDF/CSV) instead of emitting events to the orchestrator. | Architecture drift; duplicated code paths; missing HITL and audit trail. | agents/autonomous_report_agent.py, agents/autonomous_email_agent.py, agents/autonomous_research_agent.py | resolved | P002 | ADR-002 | modernization/research/F002.md | modernization/changes/002-guardrails-event-bus | Legacy agents replaced with deprecation shims |
| F003 | Missing CI quality gates required by the mandate. | Regression risk; changes can land without research/ADR/evidence. | .github/workflows/ci_cd.yml | open | P003 | ADR-003 | modernization/research/F003.md | modernization/changes/003-ci-gates-sbom |  |
| F004 | Pydantic/FastAPI version compatibility unknown; v2 migration not enforced. | Runtime breakage during upgrades; inconsistent validation semantics. | api/workflow_api.py | open |  |  |  |  |  |
| F005 | No SBOM generation and SCA scan in CI. | Undetected vulnerable transitive deps. | .github/workflows/ci_cd.yml | open | P003 | ADR-003 | modernization/research/F003.md | modernization/changes/003-ci-gates-sbom |  |