## Research Note – FND‑004: Lack of testing

### Problem capsule

The current repository provides no unit, integration or regression tests for either the JavaScript slide generator or the Python utilities.  Without automated tests, future refactoring and dependency updates risk breaking functionality without detection.  GitHub’s Dependabot documentation explicitly stresses that automated tests and acceptance processes should be in place before merging security updates【560759686713697†L572-L578】.

### Goals and non‑functional requirements

* **Safety net for refactoring:** Ensure core functionality continues to work as dependencies and code are updated.
* **Coverage targets:** Aim for ≥80 % unit test coverage overall and ≥90 % coverage on critical paths (e.g., slide layout generation, image conversion).
* **Ease of running:** Tests should be runnable via a single command (`npm test` for JS, `pytest` for Python) and integrated into the CI pipeline.

### Options comparison

| Option | Approach | Pros | Cons | Risks & effort |
|------|---------|------|------|----------------|
| **1. Maintain status quo (no tests)** | Continue relying on manual verification | No additional work | High risk of regressions; cannot safely update dependencies or refactor code; contradicts best practices【560759686713697†L572-L578】 | Unacceptable long‑term risk |
| **2. Minimal smoke tests** | Add a couple of smoke tests to check that the slide generator runs without throwing errors | Quick to implement; provides very basic protection | Does not verify correctness of layouts or conversion; may miss subtle bugs | Low effort, but minimal benefit |
| **3. Comprehensive unit and integration tests** (recommended) | Write unit tests for key functions (e.g., `calcTextBoxHeight`, `imageSizingCrop`) and integration tests for generating a presentation and converting to images.  Use Jest for JS and pytest for Python. | Provides high confidence to refactor and upgrade dependencies; meets coverage targets; aligns with recommended testing practices【560759686713697†L572-L578】 | Requires investment in test writing and maintenance; may require refactoring code for testability | Medium effort; high payoff |

### Decision guidance

Option 3 is recommended.  The absence of tests is a critical risk.  A robust test suite will enable safe upgrades (such as those applied in PLAN‑001) and give confidence when refactoring or adding features.  The dependabot guidelines emphasise having automated tests to validate dependency updates before merging【560759686713697†L572-L578】, reinforcing this choice.

### Sources

1. **Dependabot documentation** – Recommends having automated tests and acceptance processes before merging dependency updates【560759686713697†L572-L578】.
